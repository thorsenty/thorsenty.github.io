<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Grunt 101: Automating the Boring (but Useful) Stuff</title>
        <meta name="viewport" content="width=device-width">
        <link rel="shortcut icon" type="image/png" href="/assets/images/favicon.png"/>
        <link rel="stylesheet" href="/styles/vendor/syntax.css">
        <link rel="stylesheet" href="/styles/dist/main.css">
    </head>
    <body>
      <input id="page-url" type="hidden" value="/blog/2014/10/09/grunt/">
      <div class="site-container">
        <div class="site">
          <div class="header">
            <div class="content-container">
              <div class="logo">
                <a href="/">
                  <img src="/assets/images/hammer_logo.png" height="40px" width="40px" />
                  <h1 class="title">thorsent</h1>
                </a>
              </div>
              <!--<ul class="top-nav">
                <li>
                  <a href="/">home</a>
                </li>
                <li>
                  <a href="/blog">blog</a>
                </li>
                <li>
                  <a href="/about">about</a>
                </li>
                <li>
                  <a href="/contact">contact</a>
                </li>
              </ul>
              <a class="ss-nav-toggle" href="#">
                <img src="/assets/images/mobile_menu_logo.png"/>
              </a>-->
            </div>
          </div>
          <div class="content">
            <div class="content-container">
              <div class="post card card-2">
	<h2>Grunt 101: Automating the Boring (but Useful) Stuff</h2>
	<p class="meta">Posted on 09 Oct 2014 by Ty Thorsen</p>
	<p>I was looking through the screencasts on <a href="http://css-tricks.com">CSS-Tricks</a> the other day, and I noticed a couple of recent videos on how to use Grunt to automate various development tasks. Now, as a developer who does tasks every now and then, this seemed likes something that could be helpful. In this post I&#39;ll talk briefly about how to get started with Grunt and show you how I&#39;m starting to use it to build this site.</p>

<!--more-->

<p>So what is <a href="http://gruntjs.com">Grunt</a> exactly? Grunt is a task runner module that runs on <a href="http://nodejs.org">Node.js</a> that allows developers to write a simple script to automate a large number of common development tasks. These tasks are likely to be repetive tasks like compilaton, minification or css pre-processing that are certainly valuable, but can be tedious and time consuming. With Grunt you can run them all with a single command, or even set up grunt trigger tasks when certain files are updated. Automating these tasks will save time and allow you to focus on the fun parts of developing your applications.</p>

<p>Getting started is a fairly painless endeavor. Grunt has an <a href="http://gruntjs.com/getting-started">easy-to-follow guide</a> on their site, but if you really want a clear walkthrough I would recommend watching <a href="http://css-tricks.com/video-screencasts/130-first-moments-grunt/">Screencast #130</a> on CSS-Tricks. Here&#39;s a quick recap of the steps I took to get things set up for my project:</p>

<ol>
<li>I had never used Node.js before so my first step was to <a href="http://nodejs.org/download">download and install</a> it.</li>
<li><p>Next I used npm to install the Grunt Command Line Interface.
<div class="highlight"><pre><code class="language-console" data-lang="console">Tys-MacBook-Pro:workspace thorsenty$  npm install -g grunt-cli</code></pre></div></p></li>
<li><p>Then I added the <code>package.json</code> and <code>Gruntfile.js</code> files to the root directory of my application. Proceeded to tinker with different plugins and set up a few different tasks.</p></li>
<li><div class="highlight"><pre><code class="language-console" data-lang="console">Tys-MacBook-Pro:thorsenty.github.io thorsenty$  grunt</code></pre></div></li>
<li><p>Profit.</p></li>
</ol>

<p>Seems simple right? It really is. Let&#39;s walk through those two files I added.</p>

<div class="highlight"><pre><code class="language-json" data-lang="json">/* package.json */
{
  &quot;name&quot;: &quot;thorsent&quot;,
  &quot;version&quot;: &quot;0.1.0&quot;,
  &quot;devDependencies&quot;: {
    &quot;grunt&quot;: &quot;~0.4.5&quot;,
    &quot;grunt-autoprefixer&quot;: &quot;^1.0.1&quot;,
    &quot;grunt-contrib-jshint&quot;: &quot;~0.10.0&quot;,
    &quot;grunt-contrib-sass&quot;: &quot;^0.8.1&quot;,
    &quot;grunt-contrib-uglify&quot;: &quot;~0.5.0&quot;,
    &quot;grunt-contrib-watch&quot;: &quot;^0.6.1&quot;,
    &quot;grunt-shell&quot;: &quot;^1.1.1&quot;
  }
}</code></pre></div>

<p>Above is my current version of <code>package.json</code>. This file is used by npm to install and mange all of the modules that Grunt uses to run the tasks I want. You see here that I&#39;m including a number of different modules, primarily related to optimizing my client-side code. Autoprefixer and SASS are for CSS related tasks, jshint and uglify help clean and optimize my Javascript files, and watch and shell are used to coordinate and execute various sets of tasks.</p>

<p>Below is my <code>Gruntfile.js</code>. At the bottom you can see the three tasks I&#39;m currently using. The one I want to highlight is the &#39;default&#39; task. I run this task once when I start developing. It runs through each of the pre-processing tasks and the build task, then calls watch. Watch continues to run, and watches for files changes within my project. When an SCSS file changes, it runs the CSS pre-processors and rebuilds automatically. When a Javascript file is changed, Grunt knows to run jshint and uglify on the changed files. Any changes to site pages or blog posts are automatically rebuilt as well.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">/* Gruntfile.js */
module.exports = function(grunt) {

  grunt.initConfig({
    
    pkg: grunt.file.readJSON(&#39;package.json&#39;),
    
    autoprefixer: {
      all: {
        expand: true,
        flatten: true,
        src: &quot;styles/*.css&quot;,
        dest: &quot;styles/dist/&quot;
      }
    },

    jshint: {
      options: {
        curly: true,
        eqeqeq: true,
        eqnull: true,
        browser: true,
        globals: {
          jQuery: true
        },
      },
      all: [&#39;scripts/*.js&#39;]
    },

    sass: {
      dist: {
        files: [{
          expand: true,
          cwd: &quot;styles&quot;,
          src: &quot;*.scss&quot;,
          dest: &quot;styles&quot;,
          ext: &quot;.css&quot;
        }],
        options: {
          style: &quot;compressed&quot;
        }
      }
    },

    shell: {
      jekyllBuild: {
        command: &quot;jekyll build --drafts&quot;
      },
      jekyllBuildProd: {
        command: &quot;jekyll build&quot;
      },
      jekyllServe: {
        command: &quot;jekyll serve&quot;
      }
    },
    
    uglify: {
      dist: {
        files: [{
          expand: true,
          cwd: &quot;scripts&quot;,
          src: &quot;*.js&quot;,
          dest: &quot;scripts/dist&quot;,
          ext: &quot;.min.js&quot;
        }]
      }
    },

    watch: {
      css: {
        files: [&#39;styles/*.scss&#39;],
        tasks: [&#39;sass&#39;, &#39;autoprefixer&#39;, &#39;shell:jekyllBuild&#39;]
      },
      js: {
        files: [&#39;scripts/*.js&#39;],
        tasks: [&#39;uglify&#39;, &#39;jshint&#39;, &#39;shell:jekyllBuild&#39;]
      },
      site: {
        files: [&#39;**/*.html&#39;, &#39;!_site/**/*.html&#39;, &#39;_posts/**/*.md&#39;, &#39;_drafts/**/*.md&#39;],
        tasks: [&#39;shell:jekyllBuild&#39;]
      }
    }
  });

  grunt.loadNpmTasks(&#39;grunt-autoprefixer&#39;);
  grunt.loadNpmTasks(&#39;grunt-contrib-jshint&#39;);
  grunt.loadNpmTasks(&#39;grunt-contrib-sass&#39;);
  grunt.loadNpmTasks(&#39;grunt-contrib-uglify&#39;);
  grunt.loadNpmTasks(&#39;grunt-contrib-watch&#39;);
  grunt.loadNpmTasks(&#39;grunt-shell&#39;);

  grunt.registerTask(&#39;default&#39;, [&#39;uglify&#39;, &#39;jshint&#39;, &#39;sass&#39;, &#39;autoprefixer&#39;, &#39;shell:jekyllBuild&#39;, &#39;watch&#39;]);
  grunt.registerTask(&#39;prod&#39;, [&#39;uglify&#39;, &#39;jshint&#39;, &#39;sass&#39;, &#39;autoprefixer&#39;, &#39;shell:jekyllBuildProd&#39;]);
  grunt.registerTask(&#39;serve&#39;, [&#39;shell:jekyllServe&#39;]);
};

  grunt.loadNpmTasks(&#39;grunt-contrib-uglify&#39;);

  grunt.registerTask(&#39;default&#39;, [&#39;uglify&#39;]);
};</code></pre></div>

<p>With Grunt watching for file changes in my project and running these tasks automatically, I&#39;m free to focus on the fun parts of developing my site. I highly recommend adding Grunt to your projects. I plan to continue to investigate new plugins and more prowerful ways to utilize this awesome tool.</p>

	<div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'thorsent';
        var disqus_identifier = document.getElementById("page-url").value;

        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

            </div>
          </div>
          <div class="footer">
            <div class="content-container">
              <p>&copy;2014 Ty Thorsen, all rights reserved.</p>
            </div>
          </div>
        </div>
        <div class="nav-drawer">
          <ul class="ss-nav">
            <li>
              <a href="/">home</a>
            </li>
            <li>
              <a href="/blog">blog</a>
            </li>
            <li>
              <a href="/about">about</a>
            </li>
            <li>
              <a href="/contact">contact</a>
            </li>
          </ul>
        </div>
      </div>
      <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
      <script type="text/javascript" src="/scripts/dist/main.min.js"></script>
      <script type="text/javascript" src="/scripts/dist/disqusUtils.min.js"></script>
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-49818813-1', 'thorsent.com');
        ga('send', 'pageview');
      </script>
    </body>
</html>
